<!-- templates/founder.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hi Founder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Stylesheet -->
    <link rel="stylesheet" href="/static/styles.css">
    <!-- Favicon -->
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
</head>
<body>
<div class="container">
    <h1>Hi Founder</h1>
    <p>Welcome to the project! Your journey as a founder begins here.</p>
</div>
<div class="footer">
    &copy; 2023 HAT Platform. All rights reserved.
</div>
<script>
    const TUNNEL_URL = "{{ TUNNEL_URL }}";

    // Ensure the message length does not exceed the Telegram limit
    async function sendMessage(message) {
        const MAX_LENGTH = 4096;
        try {
            if (message.length > MAX_LENGTH) {
                let start = 0;
                while (start < message.length) {
                    const part = message.substring(start, start + MAX_LENGTH);
                    start += MAX_LENGTH;
                    // Send each part of the message separately
                    console.log("Sending message part:", part);
                    await sendPart(part);
                }
            } else {
                console.log("Sending message:", message);
                await sendPart(message);
            }
        } catch (error) {
            console.error("Error sending message:", error);
            alert("An error occurred while sending the message. Please try again later.");
        }
    }

    // Simulate sending a message part with additional error handling
    async function sendPart(part) {
        try {
            // Replace this with the actual sending logic, e.g., using an API call
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (Math.random() > 0.95) { // Simulate a failure in 5% of cases
                        reject(new Error("Failed to send message part"));
                    } else {
                        console.log("Message part sent:", part);
                        resolve();
                    }
                }, 100);
            });
        } catch (error) {
            console.error("Error sending message part:", error);
            throw error;
        }
    }
</script>
<script src="/static/app.js"></script>
</body>
</html>
